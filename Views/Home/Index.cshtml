@model UniFriend.Models.HomePageModel

@{
    ViewBag.Title = "Home Page";
}
<!--Post atıldığında commentleri ve likeları yeni liste oluştur-->
<head>
    <meta name="viewport" content="width=device-width" />

    <link rel="stylesheet" href="~/Content/HomePage.css">
    <link rel="stylesheet" href="~/Content/Home.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.0/js/bootstrap.min.js"></script>
    <script src="~/Scripts/HomePage/Home.js"></script>
</head>

<div class="container">
    <div class="row">
        <div class="col">
            <div class="card sticky-top" style="top: 20px">
                <div class="card-header">
                    <h5 class="card-title">Events</h5>
                    <h6 class="card-subtitle mb-2 text-muted">Club events</h6>
                </div>
                <div class="card-body">
                    <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Asperiores, deleniti!</p>
                </div>
                <div class="card-footer"><a href="#" class="card-link">Card link</a> <a href="#" class="card-link">Another link</a></div>
            </div>
        </div>

        <div class="col-6">
            <div class="card mb-3">
                <div class="card-body">
                    <div class="input-group" data-bs-toggle="modal" data-bs-target="#postModal">
                        <input type="text"
                               class="form-control"
                               id="exampleInputEmail1"
                               placeholder="Enter your post"
                               style="margin-right: 20px" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-success" style="margin-right: 20px">
                                <i class="fas fa-file"></i>
                            </button>

                            <button type="button" class="btn btn-warning" style="margin-right: 20px">
                                <i class="fas fa-photo-video"></i>
                            </button>

                            <button type="button" class="btn btn-danger" style="margin-right: 20px">
                                <i class="fas fa-video"></i>
                            </button>
                        </span>
                    </div>
                </div>
            </div>

            @{ foreach (var i in Model.posts.AsEnumerable().Reverse())
                {
                    <div class="card mb-3">
                        <div class="card-header">
                            <h5 class="card-title" style="display: inline-block">@Model.students[i.AuthorID].stud_name</h5>
                            <h6 class="card-subtitle mb-2 text-muted">11.08.2021</h6>
                        </div>
                        <div class="card-body">
                            <p class="card-text">
                                @i.text
                            </p>

                        </div>
                        <div class="card-footer">
                            <div class="input-group">
                                <input type="text" class="form-control" id="commentBox" placeholder="Enter your comment" />
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-info position-relative" style="margin-right: 20px">
                                        <i class="fab fa-telegram-plane"></i>
                                    </button>
                                    <button type="button" class="btn btn-success position-relative" style="margin-right: 20px">
                                        <i class="far fa-thumbs-up"></i>
                                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">@i.likes.Count</span>
                                    </button>
                                    <button type="button"
                                            class="btn btn-warning position-relative"
                                            data-bs-toggle="collapse"
                                            data-bs-target="#commentsOne"
                                            aria-expanded="false"
                                            aria-controls="commentsOne"
                                            style="margin-right: 20px">
                                        <i class="far fa-comments"></i>
                                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">2</span>
                                    </button>
                                    <button type="button" class="btn btn-danger position-relative">
                                        <i class="fas fa-exclamation-circle"></i>
                                    </button>
                                </span>
                            </div>
                        </div>

                        <div class="collapse collapse-horizontal" id="commentsOne">
                            @{ 
                                if (i.comments != null)
                                {
                                    foreach (var x in i.comments)
                                    {
                                    <div class="card m-3">
                                        <div class="card-header">
                                            <h5 class="card-title" style="display: inline-block">@Model.students[x.AuthorID].stud_name</h5>
                                            <h6 class="card-subtitle mb-2 text-muted">11.08.2021</h6>
                                        </div>
                                        <div class="card card-body">
                                            <p>
                                                @x.text
                                            </p>

                                        </div>
                                        <div class="card-footer">
                                            <button type="button" class="btn btn-success position-relative" style="margin-right: 20px">
                                                <i class="far fa-thumbs-up"></i>
                                                <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"></span>
                                            </button>
                                            <button type="button" class="btn btn-danger position-relative" style="margin-right: 20px">
                                                <i class="fas fa-exclamation-circle"></i>
                                            </button>
                                        </div>
                                    </div>
                                        }
                                    }
                                }
                        </div>
                    </div>
                }
            }
        </div>





        <div class="col">
            <div class="card sticky-top" style="top: 20px">
                <div class="card-header"><img src="/images/wwf.png" class="card-img-top" alt="wwf" /></div>
                <div class="card-body">
                    <p class="card-text">
                        The World Wide Fund for Nature (WWF) is an international non-governmental organization founded in 1961 that works in
                        the field of wilderness preservation and the reduction of human impact on the environment.
                    </p>
                </div>
                <div class="card-footer"><a href="#" class="card-link">Card link</a> <a href="#" class="card-link">Another link</a></div>
            </div>
        </div>
    </div>
</div>


<div id="postModal" class="modal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Post</h4>
            </div>
            <div class="modal-body">
                <textarea id="text" maxlength="1000" style="resize:none; width:70%" rows="5"></textarea>

                <div class="form-group">
                    <label for="exampleInputFile">You can add photo/files/video.</label>
                    <input type="file" id="inputFile">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-bs-dismiss="modal">Close</button>
                <p data-bs-dismiss="modal"> @Html.RouteLink("Post", new { action = "Index", controller = "Home" }, new { @class = "btn btn-primary", @id="postButton" })</p>
               
            </div>
        </div>
    </div>
</div>



<!--


       <div class="row">
    <div class="column left" id="ClubsActivities">Clubs Activities</div>
    <div class="column middle" id="Post">
        <div id="createPost" style="background-color:gainsboro; border-radius:10px; padding:7px">
            <div class="card">
                <div class="card-body">
                    <div>
                        <span>Photo</span>
                        <button type="button" class="outline" data-toggle="modal" data-target="#myModal" id="textButton" style="width:70%;margin-left:90px;">Button</button>
                        @*<button type="submit" class="outline white-blue" style="width:70%;">Button</button>
                            <button type="button" data-toggle="modal" data-target="#myModal" id="textButton" style="width:70%;">Text</button>
                            <button type="button" data-toggle="modal" data-target="#myModal" id="textButton" style="width:70%;">Text</button>*@
                    </div>
                    <div class="card-footer">
                        <p style="">Adding Photo</p>
                        <p style=""> Video</p>
                    </div>
                </div>
            </div>
        </div>
        <br />
        <br />
        <br />
        <div id="postFlow"></div>
    </div>
    <div class="column right" id="Ad">Ad.</div>
</div>
<div id="myModal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Post</h4>
            </div>
            <div class="modal-body">
                <textarea id="text" maxlength="1000" style="resize:none; width:70%" rows="5"></textarea>
                <div class="form-group">
                    <label for="exampleInputFile">You can add photo/files/video.</label>
                    <input type="file" id="inputFile">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button id="postButton" type="button" class="btn btn-primary">Post</button>
            </div>
        </div>
    </div>
</div>
    -->
